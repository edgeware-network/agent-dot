# ğŸ” Run lint-staged
echo ""
echo "ğŸ” Running lint-staged..."
pnpm lint-staged

if [ $? -ne 0 ]; then
  echo "âŒ lint-staged failed. Fix the issues before committing."
  exit 1
else
  echo "âœ… lint-staged passed."
fi

# ğŸš¨ Run ESLint in production mode
echo ""
echo "ğŸš¨ Running production lint (ESLint)..."
pnpm lint:prod

if [ $? -ne 0 ]; then
  echo "âŒ ESLint failed in production mode. Please fix lint errors."
  exit 1
else
  echo "âœ… ESLint passed."
fi

# ğŸ› ï¸  TypeScript type check
echo ""
echo "ğŸ› ï¸  Running TypeScript type check..."
pnpm tsc

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript type check failed. Fix type errors before committing."
  exit 1
else
  echo "âœ… TypeScript check passed."
fi

# ğŸ—ï¸  Build project
echo ""
echo "ğŸ—ï¸  Building project..."
pnpm build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed. Fix build errors before committing."
  exit 1
else
  echo "âœ… Build succeeded."
fi

# ğŸ‰ Final success message
echo ""
echo "ğŸ‰ All checks passed. Proceeding with commit."
